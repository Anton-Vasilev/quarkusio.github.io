<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide explains logging and how to configure it.</p>
</div>
<div class="paragraph">
<p>Internally, Quarkus uses JBoss Log Manager and the JBoss Logging facade.
You can use the JBoss Logging facade inside your code as it&#8217;s already provided,
or any of the supported Logging API listed in the next chapter as Quarkus will send them to JBoss Log Manager.</p>
</div>
<div class="paragraph">
<p>All the logging configuration will then be done inside your <code>application.properties</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported-logging-apis"><a class="anchor" href="#supported-logging-apis"></a>Supported Logging APIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Applications and components may use any of the following APIs for logging, and the logs will be merged:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JDK <code>java.util.logging</code> (also called JUL)</p>
</li>
<li>
<p><a href="https://github.com/jboss-logging/jboss-logging">JBoss Logging</a></p>
</li>
<li>
<p><a href="https://www.slf4j.org/">SLF4J</a></p>
</li>
<li>
<p><a href="https://commons.apache.org/proper/commons-logging/">Apache Commons Logging</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Internally Quarkus uses JBoss Logging; you can also use it inside your application so that no other dependencies should be added for your logs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.jboss.logging.Logger;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;

@Path("/hello")
public class ExampleResource {

    private static final Logger LOG = Logger.getLogger(ExampleResource.class);

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String hello() {
        LOG.info("Hello");
        return "hello";
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you use JBoss Logging but one of your libraries uses a different logging API, you may need to configure a <a href="#logging-adapters">logging adapter</a>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="logging-with-panache"><a class="anchor" href="#logging-with-panache"></a>Logging with Panache</h3>
<div class="paragraph">
<p>Instead of declaring a <code>Logger</code> field, you can use the simplified logging API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.example;

import io.quarkus.logging.Log; <i class="conum" data-value="1"></i><b>(1)</b>

class MyService { <i class="conum" data-value="2"></i><b>(2)</b>
    public void doSomething() {
        Log.info("Simple!"); <i class="conum" data-value="3"></i><b>(3)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>io.quarkus.logging.Log</code> class mirrors the JBoss Logging API, except all methods are <code>static</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Note that the class doesn&#8217;t declare a logger field.
This is because during application build, a <code>private static final org.jboss.logging.Logger</code> field is created automatically, in each class that uses the <code>Log</code> API.
The fully qualified name of the class that calls the <code>Log</code> methods is used as a logger name.
In this example, the logger name would be <code>com.example.MyService</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Finally, during application build, all calls to <code>Log</code> methods are rewritten to regular JBoss Logging calls on the logger field.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Only use the <code>Log</code> API in application classes, not in external dependencies.
<code>Log</code> method calls that are not processed by Quarkus at build time will throw an exception.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="injecting-a-logger"><a class="anchor" href="#injecting-a-logger"></a>Injecting a Logger</h3>
<div class="paragraph">
<p>You can also inject a configured <code>org.jboss.logging.Logger</code> instance in your beans and resource classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.jboss.logging.Logger;

@ApplicationScoped
class SimpleBean {

   @Inject
   Logger log; <i class="conum" data-value="1"></i><b>(1)</b>

   @LoggerName("foo")
   Logger fooLog; <i class="conum" data-value="2"></i><b>(2)</b>

   public void ping() {
     log.info("Simple!");
     fooLog.info("Goes to _foo_ logger!");
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The FQCN of the declaring class is used as a logger name, i.e. <code>org.jboss.logging.Logger.getLogger(SimpleBean.class)</code> will be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In this case, the name <em>foo</em> is used as a logger name, i.e. <code>org.jboss.logging.Logger.getLogger("foo")</code> will be used.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The logger instances are cached internally. Therefore, a logger injected e.g. into a <code>@RequestScoped</code> bean is shared for all bean instances to avoid possible performance penalty associated with logger instantiation.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="what-about-apache-log4j"><a class="anchor" href="#what-about-apache-log4j"></a>What about Apache Log4j ?</h3>
<div class="paragraph">
<p><a href="https://logging.apache.org/log4j/2.x/">Log4j</a> is a logging implementation: it contains a logging backend and a logging facade.
Quarkus uses the JBoss Log Manager backend, so you will need to include the <code>log4j2-jboss-logmanager</code> library to route Log4j logs to JBoss Log Manager.</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;
    &lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the library needed for Log4j version 2; if you use the legacy Log4j version 1 you need to use <code>log4j-jboss-logmanager</code> instead.</td>
</tr>
</table>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("org.jboss.logmanager:log4j2-jboss-logmanager") <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the library needed for Log4j version 2; if you use the legacy Log4j version 1 you need to use <code>log4j-jboss-logmanager</code> instead.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can then use the Log4j API inside your application.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Do not include any Log4j dependencies. The <code>log4j2-jboss-logmanager</code> library includes what&#8217;s needed to use Log4j as a logging facade.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-levels"><a class="anchor" href="#logging-levels"></a>Logging levels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are the log levels used by Quarkus:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
OFF
</td>
<td class="hdlist2">
<p>Special level to turn off logging.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
FATAL
</td>
<td class="hdlist2">
<p>A critical service failure/complete inability to service requests of any kind.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ERROR
</td>
<td class="hdlist2">
<p>A significant disruption in a request or the inability to service a request.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
WARN
</td>
<td class="hdlist2">
<p>A non-critical service error or problem that may not require immediate correction.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
INFO
</td>
<td class="hdlist2">
<p>Service lifecycle events or important related very-low-frequency information.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
DEBUG
</td>
<td class="hdlist2">
<p>Messages that convey extra information regarding lifecycle or non-request-bound events which may be helpful for debugging.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
TRACE
</td>
<td class="hdlist2">
<p>Messages that convey extra per-request debugging information that may be very high frequency.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ALL
</td>
<td class="hdlist2">
<p>Special level for all messages including custom levels.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, the following levels may be configured for applications and libraries using <a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html"><code>java.util.logging</code></a>:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
SEVERE
</td>
<td class="hdlist2">
<p>Same as <strong>ERROR</strong>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
WARNING
</td>
<td class="hdlist2">
<p>Same as <strong>WARN</strong>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
CONFIG
</td>
<td class="hdlist2">
<p>Service configuration information.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
FINE
</td>
<td class="hdlist2">
<p>Same as <strong>DEBUG</strong>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
FINER
</td>
<td class="hdlist2">
<p>Same as <strong>TRACE</strong>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
FINEST
</td>
<td class="hdlist2">
<p>Event more debugging information than <code>TRACE</code>, maybe with even higher frequency.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="runtime-configuration"><a class="anchor" href="#runtime-configuration"></a>Runtime configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run time logging is configured in the <code>application.properties</code> file,
for example, to set the default log level to <code>INFO</code> logging and include Hibernate <code>DEBUG</code> logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.log.level=INFO
quarkus.log.category."org.hibernate".level=DEBUG</code></pre>
</div>
</div>
<div class="paragraph">
<p>Setting a log level below <code>DEBUG</code> requires the minimum log level to be adjusted,
either globally via the <code>quarkus.log.min-level</code> property or per-category as shown in the example above,
as well as adjusting the log level itself.</p>
</div>
<div class="paragraph">
<p>Minimum logging level sets a floor level that Quarkus will be needed to potentially generate,
opening the door to optimization opportunities.
As an example, in native execution the minimum level enables lower level checks (e.g. <code>isTraceEnabled</code>) to be folded to <code>false</code>,
resulting in dead code elimination for code that will never to be executed.</p>
</div>
<div class="paragraph">
<p>All possible properties are listed in the <a href="#loggingConfigurationReference">logging configuration reference</a> section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are adding these properties by using the command line, make sure <code>"</code> is escaped.
For example <code>-Dquarkus.log.category.\"org.hibernate\".level=TRACE</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="logging-categories"><a class="anchor" href="#logging-categories"></a>Logging categories</h3>
<div class="paragraph">
<p>Logging is done on a per-category basis.
Each category can be independently configured.
A configuration which applies to a category will also apply to all sub-categories of that category,
unless there is a more specific matching sub-category configuration.
For every category the same settings that are configured on ( console / file / syslog ) apply.
These can also be overridden by attaching one or more named handlers to a category.
See example in the <a href="#category-named-handlers-example">Named handlers attached to a category</a> output.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.category."&lt;category-name&gt;".level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The level to use to configure the category named <code>&lt;category-name&gt;</code>.  The quotes are necessary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.category."&lt;category-name&gt;".min-level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The minimum logging level to use to configure the category named <code>&lt;category-name&gt;</code>.  The quotes are necessary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.category."&lt;category-name&gt;".use-parent-handlers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify whether this logger should send its output to its parent logger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.category."&lt;category-name&gt;".handlers=[&lt;handler&gt;]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>empty <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The names of the handlers that you want to attach to a specific category.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The quotes shown in the property name are required as categories normally contain '.',
which must be escaped.
See the example in <a href="#category-example">File TRACE Logging Configuration</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="root-logger-configuration"><a class="anchor" href="#root-logger-configuration"></a>Root logger configuration</h3>
<div class="paragraph">
<p>The root logger category is handled separately, and is configured via the following properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default log level for every log category.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quarkus.log.min-level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default minimum log level for every log category.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If no level configuration exists for a given logger category, the enclosing (parent) category is examined. If no categories are configured which enclose the category in question, then the root logger configuration is used.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-format"><a class="anchor" href="#logging-format"></a>Logging Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Quarkus uses a pattern-based logging formatter that generates human-readable text logs.</p>
</div>
<div class="paragraph">
<p>You can configure the format for each log handler via a dedicated property.
For the console handler, the property is <code>quarkus.log.console.format</code>.</p>
</div>
<div class="paragraph">
<p>The logging format string supports the following symbols:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
<th class="tableblock halign-left valign-top">Summary</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders a simple <code>%</code> character.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the category name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%C</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the source class name.<sup class="footnote" id="_footnote_calc">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%d{xxx}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders a date with the given date format string, which uses the syntax defined by <code>java.text.SimpleDateFormat</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%e</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the thrown exception, if any.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the source file name.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the system simple host name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%H</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualified host name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the system&#8217;s fully qualified host name, which may be the same as the simple host name, depending on OS configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the current process PID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%l</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the source location information, which includes source file name, line number, class name, and method name.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%L</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source line</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the source line number.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the log message plus exception (if any).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%M</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the source method name.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Newline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the platform-specific line separator string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%N</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the name of the current process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the log level of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the time in milliseconds since the start of the application log.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders just the log message, with no exception trace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thread name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the thread name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%t{id}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thread ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Render the thread ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%z{&lt;zone name&gt;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the time zone of the output to <code>&lt;zone name&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%X{&lt;MDC property name&gt;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapped Diagnostics Context Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders the value from Mapped Diagnostics Context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%X</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapped Diagnostics Context Values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders all the values from Mapped Diagnostics Context in format {property.key=property.value}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nested Diagnostics context values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders all the values from Nested Diagnostics Context in format {value1.value2}</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="alt-console-format"><a class="anchor" href="#alt-console-format"></a>Alternative Console Logging Formats</h3>
<div class="paragraph">
<p>It is possible to change the output format of the console log. This can be useful in environments where the output
of the Quarkus application is captured by a service which can, for example, process and store the log information for
later analysis.</p>
</div>
<div class="sect3">
<h4 id="json-logging"><a class="anchor" href="#json-logging"></a>JSON Logging Format</h4>
<div class="paragraph">
<p>In order to configure the JSON logging format, the <code>quarkus-logging-json</code> extension may be employed.
Add this extension to your build file as the following snippet illustrates:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-logging-json&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-logging-json")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The presence of this extension will, by default, replace the output format configuration from the console configuration.
This means that the format string and the color settings (if any) will be ignored.
The other console configuration items, including those controlling asynchronous logging and the log level, will continue to be applied.</p>
</div>
<div class="paragraph">
<p>For some, it will make sense to use logging that is humanly readable (unstructured) in dev mode and JSON logging (structured) in production mode. This can be achieved using different profiles, as shown in the following configuration.</p>
</div>
<div class="listingblock">
<div class="title">Disable JSON logging in application.properties for dev and test mode</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%dev.quarkus.log.console.json=false
%test.quarkus.log.console.json=false</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h5>
<div class="paragraph">
<p>The JSON logging extension can be configured in various ways.
The following properties are supported:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Enabling pretty printing might cause certain processors and JSON parsers to fail.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Printing the details can be expensive as the values are retrieved from the caller.
The details include the source class name, source file name, source method name, and source line number.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="log-handlers"><a class="anchor" href="#log-handlers"></a>Log Handlers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A log handler is a logging component responsible for the emission of log events to a recipient.
Quarkus comes with three different log handlers: <strong>console</strong>, <strong>file</strong> and <strong>syslog</strong>.</p>
</div>
<div class="sect2">
<h3 id="console-log-handler"><a class="anchor" href="#console-log-handler"></a>Console log handler</h3>
<div class="paragraph">
<p>The console log handler is enabled by default.
It outputs all log events to the console of your application (typically to the system&#8217;s <code>stdout</code>).</p>
</div>
<div class="paragraph">
<p>For details of its configuration options, see <a href="#quarkus-log-logging-log-config_quarkus.log.console-console-logging">the Console Logging configuration reference</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Logging filters</div>
<div class="paragraph">
<p>Log handlers (like the console log handler) can have a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Filter.html">filter</a> associated with them, whose
purpose is to determine whether a record should actually be logged or not.</p>
</div>
<div class="paragraph">
<p>These filters are registered by placing the <code>@io.quarkus.logging.LoggingFilter</code> annotation on a (<code>final</code>) class that implements <code>java.util.logging.Filter</code> and setting the <code>name</code> property.</p>
</div>
<div class="paragraph">
<p>Finally, the filter is attached using the <code>filter</code> configuration property of the appropriate handler.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say for example that we wanted to filter out logging records that contained a part of text from the console logs.
The text itself is part of the application configuration and is not hardcoded.
We could write a filter like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.quarkus.logging.LoggingFilter;
import java.util.logging.Filter;
import java.util.logging.LogRecord;

@LoggingFilter(name = "my-filter")
public final class TestFilter implements Filter {

    private final String part;

    public TestFilter(@ConfigProperty(name = "my-filter.part") String part) {
        this.part = part;
    }

    @Override
    public boolean isLoggable(LogRecord record) {
        return !record.getMessage().contains(part);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and configure it in the usual Quarkus way (for example using <code>application.properties</code>) like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">my-filter.part=TEST</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we would register this filter to the console handler like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.log.console.filter=my-filter</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="file-log-handler"><a class="anchor" href="#file-log-handler"></a>File log handler</h3>
<div class="paragraph">
<p>The file log handler is disabled by default. It outputs all log events to a file on the application&#8217;s host.
It supports log file rotation.</p>
</div>
<div class="paragraph">
<p>For details of its configuration options, see <a href="#quarkus-log-logging-log-config_quarkus.log.file-file-logging">the File Logging configuration reference</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="syslog-log-handler"><a class="anchor" href="#syslog-log-handler"></a>Syslog log handler</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Syslog">Syslog</a> is a protocol for sending log messages on Unix-like systems using a protocol defined by <a href="https://tools.ietf.org/html/rfc5424">RFC 5424</a>.</p>
</div>
<div class="paragraph">
<p>The syslog handler sends all log events to a syslog server (by default, the syslog server that is local to the application).
It is disabled by default.</p>
</div>
<div class="paragraph">
<p>For details of its configuration options, see <a href="#quarkus-log-logging-log-config_quarkus.log.syslog-syslog-logging">the Syslog Logging configuration reference</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Although the root logger&#8217;s handlers are usually configured directly via <code>quarkus.log.console</code>, <code>quarkus.log.file</code> and <code>quarkus.log.syslog</code>, it
can nonetheless have additional named handlers attached to it using the <code>quarkus.log.handlers</code> property.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">Console DEBUG Logging except for Quarkus logs (INFO), No color, Shortened Time, Shortened Category Prefixes</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.level=DEBUG
quarkus.console.color=false

quarkus.log.category."io.quarkus".level=INFO</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are adding these properties via command line make sure <code>"</code> is escaped.
For example <code>-Dquarkus.log.category.\"io.quarkus\".level=DEBUG</code>.
</td>
</tr>
</table>
</div>
<div id="category-example" class="listingblock">
<div class="title">File TRACE Logging Configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.log.file.enable=true
# Send output to a trace.log file under the /tmp directory
quarkus.log.file.path=/tmp/trace.log
quarkus.log.file.level=TRACE
quarkus.log.file.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
# Set 2 categories (io.quarkus.smallrye.jwt, io.undertow.request.security) to TRACE level
quarkus.log.min-level=TRACE
quarkus.log.category."io.quarkus.smallrye.jwt".level=TRACE
quarkus.log.category."io.undertow.request.security".level=TRACE</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As we don&#8217;t change the root logger, console log will only contain <code>INFO</code> or higher order logs.
</td>
</tr>
</table>
</div>
<div id="category-named-handlers-example" class="listingblock">
<div class="title">Named handlers attached to a category</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Send output to a trace.log file under the /tmp directory
quarkus.log.file.path=/tmp/trace.log
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
# Configure a named handler that logs to console
quarkus.log.handler.console."STRUCTURED_LOGGING".format=%e%n
# Configure a named handler that logs to file
quarkus.log.handler.file."STRUCTURED_LOGGING_FILE".enable=true
quarkus.log.handler.file."STRUCTURED_LOGGING_FILE".format=%e%n
# Configure the category and link the two named handlers to it
quarkus.log.category."io.quarkus.category".level=INFO
quarkus.log.category."io.quarkus.category".handlers=STRUCTURED_LOGGING,STRUCTURED_LOGGING_FILE</code></pre>
</div>
</div>
<div id="root-category-named-handlers-example" class="listingblock">
<div class="title">Named handlers attached to the root logger</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># configure a named file handler that sends the output to 'quarkus.log'
quarkus.log.handler.file.CONSOLE_MIRROR.enable=true
quarkus.log.handler.file.CONSOLE_MIRROR.path=quarkus.log
# attach the handler to the root logger
quarkus.log.handlers=CONSOLE_MIRROR</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="centralized-log-management"><a class="anchor" href="#centralized-log-management"></a>Centralized Log Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to send your logs to a centralized tool like Graylog, Logstash or Fluentd, you can follow the <a href="centralized-log-management">Centralized log management guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-configure-logging-for-quarkustest"><a class="anchor" href="#how-to-configure-logging-for-quarkustest"></a>How to Configure Logging for <code>@QuarkusTest</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to configure logging for your <code>@QuarkusTest</code>, don&#8217;t forget to set up the <code>maven-surefire-plugin</code> accordingly.
In particular, you need to set the appropriate <code>LogManager</code> using the <code>java.util.logging.manager</code> system property.</p>
</div>
<div class="listingblock">
<div class="title">Example Configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
      &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
      &lt;configuration&gt;
        &lt;systemPropertyVariables&gt;
          &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt; <i class="conum" data-value="1"></i><b>(1)</b>
          &lt;quarkus.log.level&gt;DEBUG&lt;/quarkus.log.level&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
          &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;
        &lt;/systemPropertyVariables&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Make sure the <code>org.jboss.logmanager.LogManager</code> is used.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enable debug logging for all logging categories.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are using Gradle, add this to your <code>build.gradle</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">test {
	systemProperty "java.util.logging.manager", "org.jboss.logmanager.LogManager"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also <a href="getting-started-testing#test-from-ide">Running <code>@QuarkusTest</code> from an IDE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-adapters"><a class="anchor" href="#logging-adapters"></a>Logging Adapters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus relies on the JBoss Logging library for all the logging requirements.</p>
</div>
<div class="paragraph">
<p>If you are using libraries that have dependencies on other logging libraries such as Apache Commons Logging, Log4j or SLF4J, you need to exclude them from the dependencies and use one of the adapters provided by JBoss Logging.</p>
</div>
<div class="paragraph">
<p>This is especially important when building native executables as you could encounter issues similar to the following when compiling the native executable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">Caused by java.lang.ClassNotFoundException: org.apache.commons.logging.impl.LogFactoryImpl</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is due to the logging implementation not being included in the native executable.
Using the JBoss Logging adapters will solve this problem.</p>
</div>
<div class="paragraph">
<p>These adapters are available for most of the common Open Source logging components.</p>
</div>
<div class="paragraph">
<p>Apache Commons Logging:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;
    &lt;artifactId&gt;commons-logging-jboss-logging&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("org.jboss.logging:commons-logging-jboss-logging")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Log4j:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-jboss-logmanager&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("org.jboss.logmanager:log4j-jboss-logmanager")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Log4j 2:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;
    &lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("org.jboss.logmanager:log4j2-jboss-logmanager")</code></pre>
</div>
</div>
<div class="paragraph">
<p>And SLF4J:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;
    &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("org.jboss.slf4j:slf4j-jboss-logmanager")</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is not needed for libraries that are dependencies of a Quarkus extension as the extension will take care of this for you.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="loggingConfigurationReference"><a class="anchor" href="#loggingConfigurationReference"></a>Logging configuration reference</h2>
<div class="sectionbody">

</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Some extensions may define customized default log levels for certain categories, in order to reduce log noise by default.  Setting the log level in configuration will override any extension-defined log levels.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. By default, the configured category gets the same handlers attached as the one on the root logger.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. Format sequences which examine caller information may affect performance
</div>
</div>